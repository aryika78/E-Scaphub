
@{
    ViewData["Title"] = "UserInvoiceDetails";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
    var CartList = (List<Ewaste_Vs2022.Models.CartMaster>)ViewBag.cartList;
    var ProductSubCatList = (List<Ewaste_Vs2022.Models.ProductSubCategory>)ViewBag.productSCList;
}

<h2>UserSellingInvoiceDetails</h2>
<div class="col-md-12" style="margin-top:15px;">
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-9">
            <div style="float:left; width:800px; box-shadow:0 0 3px #aaa; height:auto;color:#666;">
                <div style="width:100%; padding:10px; float:left; background:#1ca8dd; color:#fff; font-size:30px; text-align:center;">
                    EWaste - Invoice
                </div>
                <div style="width:100%; padding:0px 0px;border-bottom:1px solid rgba(0,0,0,0.2);float:left;">
                    <div style="width:40%; float:left;padding:10px;">
                        <table>
                            <tr>
                                <td colspan="3">
                                    <span style="font-size:14px; color:red; float:left; width:100%;">
                                        <b> Billed To </b>
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <b>Name </b>
                                </td>
                                <td>
                                    &nbsp;&nbsp; :
                                </td>
                                <td>
                                    &nbsp;&nbsp;   @TempData["PersonName"]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <b>Address </b>
                                </td>
                                <td>
                                    &nbsp;&nbsp;  :
                                </td>
                                <td>
                                    &nbsp;&nbsp;   @TempData["PersonAddr"]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <b>Email </b>
                                </td>
                                <td>
                                    &nbsp;&nbsp;  :
                                </td>
                                <td>
                                    &nbsp;&nbsp;   @TempData["PersonEmail"]
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div style="width:40%; float:right; margin-top:15px;">
                        <table>
                            <tr>
                                <td>
                                    <b>Date</b>
                                </td>
                                <td>
                                    &nbsp;&nbsp;  :
                                </td>
                                <td>
                                    &nbsp;&nbsp;  @TempData["date"]
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <b>Invoice#</b>
                                </td>
                                <td>
                                    &nbsp;&nbsp;  :
                                </td>
                                <td>
                                    &nbsp;&nbsp;  @TempData["ordId"]
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                @{
                    int total = 0;
                    double totalprice = 0.0;
                    double grandtotal = 0.0;

                    <div style="width:100%; padding:0px; float:left;">
                        <div>
                            <table>
                                <tr style="background:#efefef;">
                                    <td style="text-align:left;padding:10px;width:20px; background-color:aqua; color:#888;font-weight:bold;">ItemName</td>
                                    <td style="text-align:left;padding:10px;width:200px; background-color:aqua; color:#888;font-weight:bold;">Amount/Item</td>
                                    <td style="text-align:left;padding:10px;width:200px; background-color:aqua; color:#888;font-weight:bold;">Quantity</td>
                                    <td style="text-align:left;padding:10px;width:200px; background-color:aqua; color:#888;font-weight:bold;">TotalAmount</td>
                                </tr>
                                @foreach (var cart in CartList)
                                {
                                    <tr>
                                        @foreach (var sc in ProductSubCatList)
                                        {
                                            if (cart.SCid == sc.SCid)
                                            {
                                                <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;"> @sc.SCname </td>
                                                <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;"> @sc.SCpriceperunit </td>
                                                total = Convert.ToInt32(sc.SCpriceperunit) * Convert.ToInt32(cart.SCQty);
                                                totalprice = totalprice + total;
                                            }
                                        }
                                        <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;">@cart.SCQty</td>
                                        <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;">@total</td>
                                    </tr>
                                }
                               <tr>
                                    <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;">Total Price</td>
                                    <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;">  </td>
                                    <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;">  </td>
                                    <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;"><i class="fa fa-inr" aria-hidden="true"></i> @totalprice</td>
                                </tr>
                                <tr style="background-color:antiquewhite">
                                    <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;">Tax(GST) : (18%)</td>
                                    <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;">  </td>
                                    <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;">  </td>
                                    <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;"> </td>
                                </tr>
                                <tr style="background-color:lightgray;">
                                    <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;">Grand Total</td>
                                    <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;">  </td>
                                    <td style="text-align:left;padding:10px;width:200px;  color:#888;font-weight:bold;">  </td>
                                    <td style="text-align:left;padding:10px;width:200px; color:#888;font-weight:bold;"><i class="fa fa-inr" aria-hidden="true"></i> @(grandtotal = Convert.ToDouble(totalprice) + (Convert.ToDouble(totalprice) * Convert.ToDouble(0.18))) </td>
                                </tr>
                                <tr>
                                    <td colspan="2" style="text-align:left; color:burlywood">
                                        <b>Thanks for your order...</b>
                                    </td>
                                    <td colspan="2" style="text-align:right; color:burlywood">
                                        <b>
                                            Enjoy.
                                            Be Connected :-)
                                        </b>
                                    </td>
                                </tr>
                            </table>

                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

<div class="row">
    <a class="btn btn-warning btn-sm" style="width:200px;font-size:30px; margin-left:1000px;margin-top:30px;" href="@Url.Action("UserInvoiceDetailsSubmit", "User", new {Total = totalprice, GrandTotal = grandtotal})"><i class='fa fa-car'></i> Ok, Done...</a>
</div>
<br />
<br />
<br />




